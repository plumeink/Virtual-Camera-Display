<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camera Preview - Virtual Camera Assistant</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- è§†é¢‘å®¹å™¨ -->
    <div id="videoContainer" class="draggable">
        <!-- è§†é¢‘å…ƒç´  -->
        <video id="cameraPreview" autoplay muted playsinline></video>
        
        <!-- çŠ¶æ€æ˜¾ç¤ºæ–‡æœ¬ -->
        <div id="status" class="no-drag"></div>
        
        <!-- åˆ†è¾¨çŽ‡æ˜¾ç¤ºæ ‡ç­¾ -->
        <div id="resolutionDisplay" class="no-drag hidden"></div>
        
        <!-- æŽ§åˆ¶æŒ‰é’®åŒºåŸŸ -->
        <div id="controls" class="no-drag">
            <button id="refreshBtn" title="Refresh camera">ðŸ”„</button>
            <button id="closeBtn" title="Close window">âœ•</button>
            <button id="helpBtn" title="Help">?</button>
        </div>
        
        <!-- è®¾å¤‡é€‰æ‹©å™¨ -->
        <select id="deviceSelector" class="no-drag"></select>
        
        <!-- åˆ†è¾¨çŽ‡é€‰æ‹©å™¨ -->
        <div id="resolutionSelector" class="no-drag">
            <select id="presetResolution">
                <option value="auto">Auto detect resolution</option>
                <option value="640x480">640Ã—480</option>
                <option value="800x600">800Ã—600</option>
                <option value="1024x768">1024Ã—768</option>
                <option value="1280x720">1280Ã—720 (HD)</option>
                <option value="1280x960">1280Ã—960</option>
                <option value="1920x1080">1920Ã—1080 (FHD)</option>
            </select>
            <div class="custom-resolution">
                <input type="number" id="customWidth" placeholder="Width" min="1">
                <span>Ã—</span>
                <input type="number" id="customHeight" placeholder="Height" min="1">
            </div>
            <button id="applyResolution">Apply</button>
        </div>
    </div>

    <!-- æƒé™å¸®åŠ©å¼¹çª— -->
    <div id="permissionHelp" class="no-drag hidden">
        <h3>Camera Access Issue</h3>
        <p>If you cannot access the camera, please try the following solutions:</p>
        <ul>
            <li>Ensure the virtual camera is started</li>
            <li>Check system camera permission settings</li>
            <li>Close other programs using the camera</li>
        </ul>
        <div class="permission-buttons">
            <button id="retryBtn">Retry</button>
            <button id="closeHelpBtn">Close</button>
        </div>
    </div>

    <!-- å¼•å…¥Electroné¢„åŠ è½½è„šæœ¬ -->
    <script src="../../preload.js"></script>
    <!-- å¼•å…¥åº”ç”¨è„šæœ¬ -->
    <script src="../modules/status.js"></script>
    <script src="../modules/camera.js"></script>
    <script src="../modules/resolution.js"></script>
    <script src="../modules/ui.js"></script>
    <script src="../main.js"></script>
</body>
</html>